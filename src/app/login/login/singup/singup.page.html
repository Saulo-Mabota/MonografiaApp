<ion-content [fullscreen]="true">
  <div class="circleBase type2 circle1"></div>
  <div class="circleBase type1"></div>
  <div class="circleBase type2 circle2"></div>

  <!-- <ion-spinner color="danger" class="ion-spinner-center" name="crescent" *ngIf="isLoading"></ion-spinner> -->
  <ion-label class="welcomeMessage">
    <ion-text color="light">Olá,</ion-text> 
    <ion-text color="white">
      <p>Registro</p>
    </ion-text>
  </ion-label> 

  <ion-icon 
    name="arrow-back-outline" 
    color="light"
    class="backButton"
    routerLink="/login">
  </ion-icon>

  <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" novalidate>  
    <ion-list lines="none" class="ion-margin ion-padding ion-text-center">
      <ion-item class="ion-margin-vertical"> 
        <ion-icon name="person-outline" slot="end" color="medium">
        </ion-icon>
        <ion-input formControlName="username" placeholder="Nome do Utilizador"> </ion-input>
      </ion-item>
      <ion-text class="ion-text-left" color="danger" *ngIf="signupForm.get('username')?.invalid && signupForm.get('username')?.touched">
        <p class="error">*Escreva o nome do utilizador</p>
      </ion-text>      
      <ion-item class="ion-margin-vertical">
        <ion-icon name="mail-outline" slot="end" color="medium">
        </ion-icon>
        <ion-input formControlName="email" placeholder="Escreva email valido.">
        </ion-input>
      </ion-item>

      <ion-text class="ion-text-left" color="danger" *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
        <p class="error">*Por favor, escreva um email válido!</p>
      </ion-text>

      <ion-item class="ion-margin-vertical">
        <ion-icon (click)="onChange()" [name]="isTypePassword ? 'lock-closed-outline' : 'lock-open-outline'" slot="end" [color]="isTypePassword ? 'medium' : 'primary'"> </ion-icon>
        <ion-input formControlName="password" [type]="isTypePassword ? 'password' : 'text'" placeholder="Escreva palavra passe."> </ion-input>
      </ion-item>

      <ion-text class="ion-text-left" color="danger" *ngIf="signupForm.get('password')?.hasError('required') && signupForm.get('password')?.touched">
        <p class="error">*Por favor, escreva uma palavra-passe válida!</p>
      </ion-text>
      
      <ion-text class="ion-text-left" color="danger" *ngIf="signupForm.get('password')?.hasError('minlength') && signupForm.get('password')?.dirty">
        <p class="error">*A palavra-passe deve ter no mínimo 8 caracteres</p>
      </ion-text>

      <ion-row class="ion-margin-vertical">
        <ion-col size="12" class="alignItems">
          <!-- <div align="left">
            <ion-checkbox disabled></ion-checkbox>
            <ion-note>Aceito os termos e condições</ion-note>
          </div> -->
        </ion-col>
      </ion-row>
      <ion-button color="primary" shape="round" (click)="onSubmit()">Registrar</ion-button>
      <ion-button expand="full" fill="clear" *ngIf="isLoading">
        <ion-spinner name="crescent" color="primary"></ion-spinner>
      </ion-button>
    </ion-list>
  </form>
</ion-content>
<ion-footer >
  <ion-toolbar class="ion-text-center">
    <ion-note>
      <p class="signup">Aplicativo do CEAD @2023</p>
  </ion-note>
  </ion-toolbar>
</ion-footer>


<!-- <ion-text class="ion-text-left" color="danger" *ngIf="!signupForm.get('password')?.valid && signupForm.get('password')?.touched">
  <p class="error" > -->
    <!-- *ngIf="signupForm.get('password') && signupForm.get('password')?.invalid && signupForm.get('password')?.errors['required']"> -->
    <!-- *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.errors['required']"> -->
    <!-- *Por favor escreva palavra-passe valida!
  </p>
  <p class="error" *ngIf="signupForm.get('password')?.dirty">
    *A palavra-passe deve ter no minimo 8 characters
  </p>
</ion-text> -->

   <!-- <ion-text class="ion-text-left" color="danger" *ngIf="!signupForm.get('username')?.valid && signupForm.get('username')?.touched">
        <p class="error">*Escreva nome do utilizador</p>
      </ion-text> -->